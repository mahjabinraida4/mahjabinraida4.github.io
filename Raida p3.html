<!DOCTYPE html>

<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	
<script src="/assets/jquery.js"></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Bokor&family=Delius&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Lobster+Two:ital,wght@0,400;0,700;1,400;1,700&family=Montserrat+Alternates:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Mystery+Quest&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Sevillana&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Delius&family=Edu+AU+VIC+WA+NT+Pre:wght@400..700&family=Oswald:wght@200..700&family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Delius&family=Edu+AU+VIC+WA+NT+Pre:wght@400..700&family=Oswald:wght@200..700&family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<style>
body {
  font-family: "Bokor", system-ui;
  margin: 0 auto;
  max-width: 600px;
  background: #ecd7d2;
}
div {
  height: 300px;
  background-size: 100% 100%;
  position: relative;
  margin: 40px 0 0 0;
  border-radius: 12px;
}
h1 {
  font-family: "Sevillana", cursive;";
  text-align: center;
  font-size: 75px;
  color: #a07f88;
  margin: 60px 0 0 0;
}
h2 {
  text-align: center;
  color: #c69c96;
  margin: 0px 0 70px 0;
}
p {
  color: rgba(255,141,161);
  background: black;
  background: linear-gradient(bottom, rgba(240,248,255,1), rgba(240,248,255,.4));
  background: -webkit-linear-gradient(bottom, rgba(240,248,255,1), rgba(240,248,255,.4));
  background: -moz-linear-gradient(bottom, rgba(240,248,255,1), rgba(240,248,255,.4));
  padding: 10px;
  line-height: 28px;
  text-align: justify;
  position: absolute;
  bottom: 0;
  margin: 0;
  height: 20px;
  transition: height .5s;
  -webkit-transition: height .5s;
  -moz-transition: height .5s;
}

small {
  opacity: 0;
}

.show-description p {
  height: 150px;
}

.show-description small {
  opacity: 1;
}

.first{
  font-family: "Edu Australia VIC WA NT Hand Precursive";
  background-image: url("https://cravinghomecooked.com/wp-content/uploads/2024/02/peking-duck-1-19.jpg");
}
.second{
  font-family: "Edu Australia VIC WA NT Hand Precursive";
  background-image: url("https://www.kitchensanctuary.com/wp-content/uploads/2019/10/Kung-Pao-Chicken-square-FS-39-new.jpg");
}
.dessert{
  font-family: "Edu Australia VIC WA NT Hand Precursive";
  background-image: url("https://www.kawalingpinoy.com/wp-content/uploads/2020/07/ALMOND-JELLO-18-730x1095.jpg");
}
.seconddessert{
	font-family: "Edu Australia VIC WA NT Hand Precursive";
	background-image: url("https://asianinspirations.com.au/wp-content/uploads/2019/01/R01811_Mung_Bean_Rice_Crepe.jpg");
}
.price {
  float: right;
}
@media (max-width: 500px) {
  h1 {
    font-size: 50px;
    margin-top: 20px;
    line-height: 40px;
  }
  h2 {
    font-size: 20px;
    margin: 20px 0 30px 0;
  }
  input {
  	font-size: 22px;
  }
  
  div {
    margin: 20px 12px 0 12px;
  }
  p {
    font-size: 20px;
    line-height: 24px;
  }
  small {
    font-size: 16px;
  }
}

</style>

</head>

<body>
<h1>Chinese Restaurant</h1>
<h2>Chinese Foods</h2>
<div class="first">
<input type="number" min="0" style="width: 50px"class="quantities">
  <p>Peking Roasted Duck <span class="price">$30</span><br />
  <small>Peking duck (北京烤鸭 Běijīng kǎoyā) is a famous dish from Beijing, enjoying world fame, and considered as one of China national dishes. Peking duck is savored for its thin and crispy skin. Sliced Peking duck is often eaten with pancakes, sweet bean sauce, or soy sauce with mashed garlic. It is a must-taste dish in Beijing! </small></p>
</div>

<div class="second">
<input type="number" min="0" style="width: 50px"class="quantities">
  <p>Kung Pao Chicken
 <span class="price">$15</span><br />
  <small>Kung Pao Chicken (宫保鸡丁 gōngbào jīdīng) is a famous Sichuan-style specialty, popular with both Chinese and foreigners. The major ingredients are diced chicken, dried chili, cucumber, and fried peanuts (or cashews).</small></p>
</div>
  
<div class="dessert">
<input type="number" min="0" style="width: 50px"class="quantities">
  <p>Almond Jelly <span class="price">$10</span><br />
  <small>Almond jelly is one of the simplest and most popular Chinese desserts around. Made with almond-flavored gelatin and fruit salad swimming in a sweet syrup, it’s a light treat to cleanse the palate. Almond jelly is a breeze to make and only calls for milk, ground almonds, water, and gelatin or agar-agar.</small></p>
</div>

<div class="seconddessert">
<input type="number" min="0" style="width: 50px"class="quantities">
  <p>Mung Bean Rice Crepe <span class="price">$25</span><br />
  <small>Mung Bean Rice Crepe, or Kanom Tua Pab, is a Thai dessert or snack made from glutinous rice flour, filled and coated with steamed mung bean and shredded coconut, resembling the shape of a "tua pab" bean.</small></p>
</div>

  <br><br>
<input id="Name" placeholder="Your name">

  <input id="Email" type="email" placeholder="Your email">

  <input id="submit" type="submit">
  <br><br>



<script>
  $('div').on('click', function() {
      $(this).toggleClass('show-description');
  });
</script>


<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
  import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-database.js";
  
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDhZyUikhwDSKs4q8HsN2ujQUx2thHBgPM",
    authDomain: "mahjabin-raida-p3.firebaseapp.com",
    projectId: "mahjabin-raida-p3",
    storageBucket: "mahjabin-raida-p3.firebasestorage.app",
    messagingSenderId: "237750327213",
    appId: "1:237750327213:web:7a9bd4820fb5b2eee5b324",
    measurementId: "G-RVNB4898SP"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  

  const Name = document.querySelector("#Name") 
  const Email = document.querySelector("#Email")
  const quantities = document.querySelectorAll(".quantities") 
  const itemsList = ["Duck", "Chicken", "Almond Jelly", "Rice Crepe"]

  const prices = document.querySelectorAll(".price")
  document.querySelector('#submit').addEventListener('click', Submit)

  function Submit() {
    const timestamp = buildTimestamp()
	let total = 0
  	let cart = { }
  	for  (let i=0; i<quantities.length; i=i+1) {
  	  if (quantities[i].value != "0" && quantities[i].value != "") {	
let price = prices[i].innerHTML.replace('$', '')
		total = total + quantities[i].value * price 
		  
  	    cart[itemsList[i]] = parseInt(quantities[i].value) 
  	  }
  	  quantities[i].value = ""
  	}
	  
  
    set(ref(db, timestamp), {
  	  Name: Name.value,
      Email: Email.value,
	  cart: cart,
      totalPrice: total,
      paid: "not yet",
	  
    });

    Name.value = ""
    Email.value = ""
  }

  function buildTimestamp() {
    const now = new Date();
    let timestamp = now.getFullYear().toString() + "/";
    //const month = now.toLocaleString('default', { month: 'long' });

    let month = now.getMonth()+1   //add 1 because Javascript uses 0 for January
    month = month.toString()
    month = addLeadingZero(month)
    timestamp += month + "/"; 

    let date = now.getDate().toString()
    date = addLeadingZero(date)
    timestamp += date + "/";

    let hours = now.getHours().toString()
    hours = addLeadingZero(hours)
    timestamp += hours + ":";

    let minutes = now.getMinutes().toString()
    minutes = addLeadingZero(minutes)
    timestamp += minutes + ":";

    let seconds = now.getSeconds().toString()
    seconds = addLeadingZero(seconds)
    timestamp += seconds;

    return timestamp
  }

  function addLeadingZero(units) {
  	if (units.length < 2) {
  		units = "0" + units
  	}
  	return units
  }

</script>
  
  
  
</body>
